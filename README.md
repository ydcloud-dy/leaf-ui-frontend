# Leaf UI åšå®¢å‰ç«¯

åŸºäº Vue 3 + Element Plus æ„å»ºçš„ç°ä»£åŒ–åšå®¢ç³»ç»Ÿå‰ç«¯ï¼Œæ”¯æŒæ–‡ç« å‘å¸ƒã€ç¬”è®°åˆ†ç±»ã€ç•™è¨€äº’åŠ¨ç­‰åŠŸèƒ½ã€‚

## ğŸ“‘ ç›®å½•

- [âœ¨ ç‰¹æ€§äº®ç‚¹](#-ç‰¹æ€§äº®ç‚¹)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®å±•ç¤º](#é¡¹ç›®å±•ç¤º)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
  - [å·²å®ç°åŠŸèƒ½](#å·²å®ç°åŠŸèƒ½)
- [å®‰è£…ä¾èµ–](#å®‰è£…ä¾èµ–)
- [å¼€å‘æ¨¡å¼](#å¼€å‘æ¨¡å¼)
- [ç”Ÿäº§æ„å»º](#ç”Ÿäº§æ„å»º)
- [é¢„è§ˆç”Ÿäº§æ„å»º](#é¢„è§ˆç”Ÿäº§æ„å»º)
- [API é…ç½®](#api-é…ç½®)
- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [ä¸»è¦ä¾èµ–ç‰ˆæœ¬](#ä¸»è¦ä¾èµ–ç‰ˆæœ¬)
- [å¼€å‘è¯´æ˜](#å¼€å‘è¯´æ˜)
  - [è·¯ç”±é…ç½®](#è·¯ç”±é…ç½®)
  - [çŠ¶æ€ç®¡ç†](#çŠ¶æ€ç®¡ç†)
  - [API è°ƒç”¨](#api-è°ƒç”¨)
  - [æ ·å¼è§„èŒƒ](#æ ·å¼è§„èŒƒ)
- [åç«¯æ¥å£è¦æ±‚](#åç«¯æ¥å£è¦æ±‚)
  - [è®¤è¯æ¥å£](#è®¤è¯æ¥å£)
  - [æ–‡ç« æ¥å£](#æ–‡ç« æ¥å£)
  - [è¯„è®ºæ¥å£](#è¯„è®ºæ¥å£)
  - [æ ‡ç­¾å’Œç« èŠ‚æ¥å£](#æ ‡ç­¾å’Œç« èŠ‚æ¥å£-)
  - [ç»Ÿè®¡æ¥å£](#ç»Ÿè®¡æ¥å£-)
  - [ç”¨æˆ·æ•°æ®æ¥å£](#ç”¨æˆ·æ•°æ®æ¥å£)
- [æµè§ˆå™¨æ”¯æŒ](#æµè§ˆå™¨æ”¯æŒ)
- [éƒ¨ç½²æ–¹å¼](#éƒ¨ç½²æ–¹å¼)
  - [è£¸éƒ¨ç½²](#è£¸éƒ¨ç½²)
  - [Docker éƒ¨ç½²](#docker-éƒ¨ç½²)
  - [Docker Compose éƒ¨ç½²](#docker-compose-éƒ¨ç½²)
  - [Kubernetes éƒ¨ç½²](#kubernetes-éƒ¨ç½²)
- [ç¯å¢ƒå˜é‡é…ç½®](#ç¯å¢ƒå˜é‡é…ç½®)
  - [å¼€å‘ç¯å¢ƒ](#å¼€å‘ç¯å¢ƒ)
  - [ç”Ÿäº§ç¯å¢ƒ](#ç”Ÿäº§ç¯å¢ƒ)
- [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [è®¸å¯è¯](#è®¸å¯è¯)

## âœ¨ ç‰¹æ€§äº®ç‚¹

- ğŸ¨ **ç°ä»£åŒ– UI** - åŸºäº Element Plusï¼Œå“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- ğŸ“ **Markdown æ”¯æŒ** - å®Œæ•´çš„ Markdown æ¸²æŸ“ï¼Œæ”¯æŒä»£ç é«˜äº®ã€é”šç‚¹ã€ç›®å½•
- ğŸ“š **ç¬”è®°ç³»ç»Ÿ** - æ”¯æŒå¤šçº§ç« èŠ‚ç›®å½•ï¼Œæ–¹ä¾¿ç»„ç»‡æŠ€æœ¯ç¬”è®°
- ğŸ“Š **å®æ—¶ç»Ÿè®¡** - æ–‡ç« æµè§ˆé‡ã€åœ¨çº¿äººæ•°ã€çƒ­é—¨æ–‡ç« æ’è¡Œ
- ğŸ’¬ **äº’åŠ¨åŠŸèƒ½** - è¯„è®ºã€ç‚¹èµã€æ”¶è—ã€ç•™è¨€æ¿
- ğŸ” **ç”¨æˆ·ç³»ç»Ÿ** - æ³¨å†Œç™»å½•ã€ä¸ªäººä¸­å¿ƒã€æƒé™æ§åˆ¶
- âš¡ **é«˜æ€§èƒ½** - Vite æ„å»ºï¼Œè·¯ç”±æ‡’åŠ è½½ï¼Œä»£ç åˆ†å‰²

## å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—® http://localhost:3000
```

> **æ³¨æ„**ï¼šç¡®ä¿åç«¯æœåŠ¡å·²åœ¨ http://localhost:8888 å¯åŠ¨

## é¡¹ç›®å±•ç¤º
![img_4.png](img/img_4.png)
![img.png](img/img.png)
![img_1.png](img/img_1.png)
![img_2.png](img/img_2.png)
![img_3.png](img/img_3.png)
## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3 (Composition API)
- **è·¯ç”±**: Vue Router 4
- **çŠ¶æ€ç®¡ç†**: Pinia
- **UI ç»„ä»¶åº“**: Element Plus
- **HTTP å®¢æˆ·ç«¯**: Axios
- **Markdown æ¸²æŸ“**: markdown-it + markdown-it-anchor + markdown-it-highlightjs
- **ä»£ç é«˜äº®**: highlight.js
- **æ—¥æœŸå¤„ç†**: dayjs
- **æ„å»ºå·¥å…·**: Vite

## é¡¹ç›®ç»“æ„

```
leaf-ui-frontend/
â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.js            # Vite é…ç½®æ–‡ä»¶
â”œâ”€â”€ index.html                # HTML å…¥å£æ–‡ä»¶
â”œâ”€â”€ Dockerfile                # Docker é•œåƒæ„å»ºæ–‡ä»¶
â”œâ”€â”€ screenshots/              # é¡¹ç›®æˆªå›¾ç›®å½•
â”œâ”€â”€ deploy/                   # éƒ¨ç½²ç›¸å…³é…ç½®
â”‚   â”œâ”€â”€ nginx/               # Nginx é…ç½®
â”‚   â”œâ”€â”€ k8s/                 # Kubernetes é…ç½®
â”‚   â””â”€â”€ scripts/             # éƒ¨ç½²è„šæœ¬
â””â”€â”€ src/
    â”œâ”€â”€ main.js              # åº”ç”¨å…¥å£
    â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
    â”œâ”€â”€ router/              # è·¯ç”±é…ç½®
    â”‚   â””â”€â”€ index.js
    â”œâ”€â”€ stores/              # Pinia çŠ¶æ€ç®¡ç†
    â”‚   â””â”€â”€ user.js          # ç”¨æˆ·çŠ¶æ€
    â”œâ”€â”€ api/                 # API æ¥å£å°è£…
    â”‚   â”œâ”€â”€ request.js       # Axios å°è£…
    â”‚   â”œâ”€â”€ auth.js          # è®¤è¯ç›¸å…³æ¥å£
    â”‚   â”œâ”€â”€ article.js       # æ–‡ç« ç›¸å…³æ¥å£
    â”‚   â”œâ”€â”€ comment.js       # è¯„è®ºç›¸å…³æ¥å£
    â”‚   â”œâ”€â”€ tag.js           # æ ‡ç­¾æ¥å£
    â”‚   â”œâ”€â”€ chapter.js       # ç« èŠ‚æ¥å£
    â”‚   â””â”€â”€ stats.js         # ç»Ÿè®¡æ¥å£
    â”œâ”€â”€ composables/         # ç»„åˆå¼å‡½æ•°
    â”‚   â”œâ”€â”€ useHeartbeat.js      # å¿ƒè·³æ£€æµ‹
    â”‚   â””â”€â”€ useVisitTracking.js  # è®¿é—®è·Ÿè¸ª
    â”œâ”€â”€ layouts/             # å¸ƒå±€ç»„ä»¶
    â”‚   â””â”€â”€ MainLayout.vue
    â”œâ”€â”€ views/               # é¡µé¢ç»„ä»¶
    â”‚   â”œâ”€â”€ Home.vue             # é¦–é¡µ
    â”‚   â”œâ”€â”€ Articles.vue         # æ–‡ç« åˆ—è¡¨
    â”‚   â”œâ”€â”€ ArticleDetail.vue    # æ–‡ç« è¯¦æƒ…
    â”‚   â”œâ”€â”€ Archive.vue          # å½’æ¡£é¡µé¢
    â”‚   â”œâ”€â”€ Notes.vue            # ç¬”è®°åˆ†ç±»é¡µé¢
    â”‚   â”œâ”€â”€ Stats.vue            # ç½‘ç«™ç»Ÿè®¡
    â”‚   â”œâ”€â”€ About.vue            # å…³äºé¡µé¢
    â”‚   â”œâ”€â”€ Guestbook.vue        # ç•™è¨€æ¿
    â”‚   â”œâ”€â”€ Login.vue            # ç™»å½•/æ³¨å†Œ
    â”‚   â””â”€â”€ Profile.vue          # ä¸ªäººä¸­å¿ƒ
    â””â”€â”€ components/          # å…¬å…±ç»„ä»¶
        â”œâ”€â”€ ArticleCard.vue      # æ–‡ç« å¡ç‰‡
        â”œâ”€â”€ Comment.vue          # è¯„è®ºç»„ä»¶
        â””â”€â”€ Header.vue           # å¯¼èˆªæ 
```

## åŠŸèƒ½ç‰¹æ€§

### å·²å®ç°åŠŸèƒ½

1. **ç”¨æˆ·ç³»ç»Ÿ**
    - ç”¨æˆ·æ³¨å†Œ/ç™»å½•
    - ä¸ªäººä¸­å¿ƒ
    - è´¦å·è®¾ç½®
    - ä¿®æ”¹å¯†ç 
    - æƒé™æ§åˆ¶
    - Token è®¤è¯

2. **æ–‡ç« ç³»ç»Ÿ**
    - æ–‡ç« åˆ—è¡¨ï¼ˆåˆ†é¡µï¼‰
    - æ–‡ç« è¯¦æƒ…ï¼ˆMarkdown æ¸²æŸ“ + ä»£ç é«˜äº®ï¼‰
    - æ–‡ç« æœç´¢
    - åˆ†ç±»ç­›é€‰
    - æ’åºåŠŸèƒ½
    - æ–‡ç« å½’æ¡£ï¼ˆæŒ‰æœˆä»½åˆ†ç»„ï¼‰
    - æ–‡ç« å¡ç‰‡å±•ç¤ºï¼ˆå°é¢å›¾ã€æ ‡ç­¾ã€ç»Ÿè®¡ä¿¡æ¯ï¼‰

3. **ç¬”è®°ç³»ç»Ÿ** â­ æ–°å¢
    - ç¬”è®°åˆ†ç±»ï¼ˆTag æ ‡ç­¾ï¼‰
    - ç« èŠ‚ç›®å½•ï¼ˆæ”¯æŒå¤šçº§ç›®å½•ç»“æ„ï¼‰
    - äºŒçº§ç« èŠ‚å±•å¼€/æŠ˜å 
    - æ–‡ç« æ•°é‡ç»Ÿè®¡
    - ç¬”è®°æµè§ˆå†å²

4. **äº’åŠ¨åŠŸèƒ½**
    - æ–‡ç« ç‚¹èµ/å–æ¶ˆç‚¹èµ
    - æ–‡ç« æ”¶è—/å–æ¶ˆæ”¶è—
    - å‘è¡¨è¯„è®º
    - å›å¤è¯„è®º
    - è¯„è®ºç‚¹èµ
    - ç•™è¨€æ¿åŠŸèƒ½

5. **ç»Ÿè®¡åŠŸèƒ½** â­ æ–°å¢
    - ç½‘ç«™è®¿é—®ç»Ÿè®¡
    - çƒ­é—¨æ–‡ç« æ’è¡Œï¼ˆæŒ‰æµè§ˆé‡ï¼‰
    - æ–‡ç« æ€»æ•°ç»Ÿè®¡
    - ç”¨æˆ·åœ¨çº¿ç»Ÿè®¡
    - åšä¸»ä¿¡æ¯å±•ç¤º
    - å¿ƒè·³æ£€æµ‹ï¼ˆä¿æŒåœ¨çº¿çŠ¶æ€ï¼‰
    - è®¿é—®æ—¶é•¿è®°å½•

6. **å…¶ä»–åŠŸèƒ½**
    - å“åº”å¼å¸ƒå±€ï¼ˆæ”¯æŒç§»åŠ¨ç«¯ï¼‰
    - è·¯ç”±å®ˆå«ï¼ˆæƒé™æ§åˆ¶ï¼‰
    - ç”¨æˆ·çŠ¶æ€æŒä¹…åŒ–
    - ç»Ÿä¸€é”™è¯¯å¤„ç†
    - çƒ­é—¨æ–‡ç« ä¾§è¾¹æ 
    - æ ‡ç­¾äº‘å±•ç¤º
    - é¡µé¢è‡ªåŠ¨æ»šåŠ¨åˆ°é¡¶éƒ¨
    - å›¾ç‰‡/æ–‡ä»¶ä¸Šä¼ ä»£ç†

## å®‰è£…ä¾èµ–

```bash
npm install
```

## å¼€å‘æ¨¡å¼

```bash
npm run dev
```

é¡¹ç›®å°†åœ¨ http://localhost:3000 å¯åŠ¨

## ç”Ÿäº§æ„å»º

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†ç”Ÿæˆåœ¨ `dist` ç›®å½•

## é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## API é…ç½®

é¡¹ç›®é»˜è®¤åç«¯åœ°å€ä¸º `http://localhost:8888`ï¼Œå¦‚éœ€ä¿®æ”¹ï¼Œè¯·ç¼–è¾‘ `vite.config.js` ä¸­çš„ proxy é…ç½®ï¼š

```javascript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: 'http://localhost:8888',  // ä¿®æ”¹ä¸ºä½ çš„åç«¯åœ°å€
      changeOrigin: true,
      rewrite: (path) => path.replace(/^\/api/, '/blog')  // API è·¯å¾„é‡å†™
    },
    '/files': {
      target: 'http://localhost:8888',  // æ–‡ä»¶è®¿é—®ä»£ç†
      changeOrigin: true
    },
    '/uploads': {
      target: 'http://localhost:8888',  // ä¸Šä¼ æ–‡ä»¶ä»£ç†
      changeOrigin: true
    }
  }
}
```

## ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- npm >= 8

## ä¸»è¦ä¾èµ–ç‰ˆæœ¬

- vue: ^3.4.0
- vue-router: ^4.2.5
- pinia: ^2.1.7
- element-plus: ^2.5.0
- @element-plus/icons-vue: ^2.3.1
- axios: ^1.6.2
- markdown-it: ^14.0.0
- markdown-it-anchor: ^9.2.0
- markdown-it-highlightjs: ^4.2.0
- markdown-it-table-of-contents: ^1.1.0
- highlight.js: ^11.11.1
- dayjs: ^1.11.10

## å¼€å‘è¯´æ˜

### è·¯ç”±é…ç½®

è·¯ç”±é…ç½®åœ¨ `src/router/index.js` ä¸­ï¼Œä½¿ç”¨åµŒå¥—è·¯ç”±ç»“æ„ï¼Œä¸»è¦è·¯ç”±åŒ…æ‹¬ï¼š

- `/` - é¦–é¡µï¼ˆæ–‡ç« åˆ—è¡¨ + çƒ­é—¨æ–‡ç« ä¾§è¾¹æ ï¼‰
- `/articles` - æ–‡ç« åˆ—è¡¨
- `/articles/:id` - æ–‡ç« è¯¦æƒ…
- `/archive` - å½’æ¡£ï¼ˆæŒ‰æœˆä»½åˆ†ç»„ï¼‰
- `/notes/:tag?` - ç¬”è®°åˆ†ç±»ï¼ˆæ”¯æŒç« èŠ‚ç›®å½•ï¼‰
- `/guestbook` - ç•™è¨€æ¿
- `/about` - å…³äº
- `/stats` - ç½‘ç«™ç»Ÿè®¡
- `/login` - ç™»å½•/æ³¨å†Œ
- `/profile` - ä¸ªäººä¸­å¿ƒï¼ˆéœ€ç™»å½•ï¼‰

### çŠ¶æ€ç®¡ç†

ä½¿ç”¨ Pinia ç®¡ç†å…¨å±€çŠ¶æ€ï¼Œå½“å‰åªæœ‰ç”¨æˆ·çŠ¶æ€ï¼ˆuser storeï¼‰ï¼š

- ç”¨æˆ·ä¿¡æ¯
- ç™»å½•çŠ¶æ€
- Token ç®¡ç†
- ç™»å½•/æ³¨å†Œ/ç™»å‡ºæ–¹æ³•

### API è°ƒç”¨

æ‰€æœ‰ API è°ƒç”¨éƒ½é€šè¿‡ `src/api` ç›®å½•ä¸­çš„æ¨¡å—è¿›è¡Œï¼š

```javascript
// æ–‡ç« ç›¸å…³
import { getArticles, getArticleById } from '@/api/article'

// æ ‡ç­¾å’Œç« èŠ‚
import { getTags } from '@/api/tag'
import { getChaptersByTag } from '@/api/chapter'

// ç»Ÿè®¡ä¿¡æ¯
import { getStats, getHotArticles } from '@/api/stats'

const { data } = await getArticles({ page: 1, page_size: 10 })
```

### æ ·å¼è§„èŒƒ

- ä½¿ç”¨ Element Plus ä¸»é¢˜è‰²
- å“åº”å¼æ–­ç‚¹ï¼š768px
- é‡‡ç”¨ scoped æ ·å¼é¿å…æ±¡æŸ“

## åç«¯æ¥å£è¦æ±‚

é¡¹ç›®éœ€è¦ä»¥ä¸‹åç«¯æ¥å£æ”¯æŒï¼ˆæ‰€æœ‰æ¥å£å‰ç¼€ä¸º `/blog`ï¼‰ï¼š

### è®¤è¯æ¥å£
- POST /blog/auth/login - ç”¨æˆ·ç™»å½•
- POST /blog/auth/register - ç”¨æˆ·æ³¨å†Œ
- GET /blog/auth/me - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- PUT /blog/auth/profile - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- PUT /blog/auth/password - ä¿®æ”¹å¯†ç 

### æ–‡ç« æ¥å£
- GET /blog/articles - è·å–æ–‡ç« åˆ—è¡¨
- GET /blog/articles/:id - è·å–æ–‡ç« è¯¦æƒ…
- GET /blog/articles/search - æœç´¢æ–‡ç« 
- GET /blog/articles/archive - è·å–å½’æ¡£æ–‡ç« 
- POST /blog/articles/:id/like - ç‚¹èµæ–‡ç« 
- DELETE /blog/articles/:id/like - å–æ¶ˆç‚¹èµ
- POST /blog/articles/:id/favorite - æ”¶è—æ–‡ç« 
- DELETE /blog/articles/:id/favorite - å–æ¶ˆæ”¶è—

### è¯„è®ºæ¥å£
- GET /blog/comments - è·å–è¯„è®ºåˆ—è¡¨
- GET /blog/articles/:id/comments - è·å–æ–‡ç« è¯„è®º
- POST /blog/comments - å‘è¡¨è¯„è®º
- POST /blog/comments/:id/reply - å›å¤è¯„è®º
- DELETE /blog/comments/:id - åˆ é™¤è¯„è®º
- POST /blog/comments/:id/like - ç‚¹èµè¯„è®º

### æ ‡ç­¾å’Œç« èŠ‚æ¥å£ â­ æ–°å¢
- GET /blog/tags - è·å–æ ‡ç­¾åˆ—è¡¨
- GET /blog/chapters/:tag - è·å–æ ‡ç­¾ä¸‹çš„ç« èŠ‚åŠæ–‡ç« 
- GET /blog/chapters - è·å–ç« èŠ‚åˆ—è¡¨
- POST /blog/chapters - åˆ›å»ºç« èŠ‚ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰
- PUT /blog/chapters/:id - æ›´æ–°ç« èŠ‚ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰
- DELETE /blog/chapters/:id - åˆ é™¤ç« èŠ‚ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰

### ç»Ÿè®¡æ¥å£ â­ æ–°å¢
- GET /blog/stats - è·å–ç«™ç‚¹ç»Ÿè®¡æ•°æ®
- GET /blog/stats/hot-articles - è·å–çƒ­é—¨æ–‡ç« ï¼ˆæŒ‰æµè§ˆé‡æ’åºï¼‰
- POST /blog/heartbeat - å‘é€å¿ƒè·³ï¼ˆä¿æŒåœ¨çº¿çŠ¶æ€ï¼‰
- POST /blog/visit - è®°å½•è®¿é—®æ—¶é•¿
- GET /blog/blogger - è·å–åšä¸»ä¿¡æ¯

### ç”¨æˆ·æ•°æ®æ¥å£
- GET /blog/user/likes - è·å–æˆ‘çš„ç‚¹èµ
- GET /blog/user/favorites - è·å–æˆ‘çš„æ”¶è—

## æµè§ˆå™¨æ”¯æŒ

- Chrome >= 90
- Firefox >= 88
- Safari >= 14
- Edge >= 90

## éƒ¨ç½²æ–¹å¼

### è£¸éƒ¨ç½²

ä½¿ç”¨è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼š

```bash
# è¿è¡Œéƒ¨ç½²è„šæœ¬
chmod +x deploy/scripts/deploy.sh
./deploy/scripts/deploy.sh
```

æˆ–æ‰‹åŠ¨éƒ¨ç½²ï¼š

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# 3. ä½¿ç”¨ Nginx éƒ¨ç½²
# å°† dist ç›®å½•å¤åˆ¶åˆ° Nginx çš„ html ç›®å½•
sudo cp -r dist/* /usr/share/nginx/html/

# 4. é…ç½® Nginxï¼ˆå‚è€ƒ deploy/nginx/nginx.confï¼‰
sudo systemctl restart nginx
```

### Docker éƒ¨ç½²

#### æ„å»ºé•œåƒ

```bash
docker build -t blog-frontend:latest .
```

#### è¿è¡Œå®¹å™¨

```bash
docker run -d \
  --name blog-frontend \
  -p 3000:80 \
  -e API_URL=http://your-api-server:8888 \
  blog-frontend:latest
```

### Docker Compose éƒ¨ç½²

åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ `docker-compose.yml` ä¸­å·²åŒ…å«å®Œæ•´é…ç½®ï¼š

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼‰
docker-compose up -d

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f blog-frontend

# åœæ­¢æœåŠ¡
docker-compose down
```

### Kubernetes éƒ¨ç½²

#### 1. åˆ›å»ºå‘½åç©ºé—´å’Œèµ„æº

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
kubectl apply -f deploy/k8s/deployment.yaml
```

#### 2. æ£€æŸ¥éƒ¨ç½²çŠ¶æ€

```bash
# æŸ¥çœ‹ Pod
kubectl get pods -n leaf-blog

# æŸ¥çœ‹æœåŠ¡
kubectl get svc -n leaf-blog

# æŸ¥çœ‹æ—¥å¿—
kubectl logs -f <pod-name> -n leaf-blog
```

#### 3. è®¿é—®æœåŠ¡

```bash
# ç«¯å£è½¬å‘ï¼ˆç”¨äºæµ‹è¯•ï¼‰
kubectl port-forward svc/blog-frontend-service 3000:80 -n leaf-blog

# æˆ–é…ç½® Ingress åé€šè¿‡åŸŸåè®¿é—®
```

## ç¯å¢ƒå˜é‡é…ç½®

### å¼€å‘ç¯å¢ƒ

åœ¨ `vite.config.js` ä¸­é…ç½®ï¼š

```javascript
server: {
  port: 3000,
  proxy: {
    '/api': {
      target: process.env.API_URL || 'http://localhost:8888',
      changeOrigin: true
    }
  }
}
```

### ç”Ÿäº§ç¯å¢ƒ

åœ¨ Nginx é…ç½®ä¸­è®¾ç½® API ä»£ç†ï¼š

```nginx
location /api {
    proxy_pass http://backend-api:8888;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
}
```

æˆ–é€šè¿‡ Docker ç¯å¢ƒå˜é‡ä¼ é€’ï¼š

```bash
docker run -e API_URL=http://your-api:8888 blog-frontend:latest
```

## æ³¨æ„äº‹é¡¹

1. ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨åœ¨ http://localhost:8888
2. é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–ï¼š`npm install`
3. å¦‚éœ€ä¿®æ”¹ç«¯å£ï¼Œè¯·ç¼–è¾‘ `vite.config.js` ä¸­çš„ `server.port`
4. Token å­˜å‚¨åœ¨ localStorage ä¸­
5. å‰ç«¯é€šè¿‡ Vite proxy å°† `/api` è¯·æ±‚ä»£ç†åˆ°åç«¯çš„ `/blog` è·¯å¾„
6. æ–‡ä»¶è®¿é—®å’Œä¸Šä¼ åŠŸèƒ½éœ€è¦é…ç½® `/files` å’Œ `/uploads` ä»£ç†
7. ç¬”è®°åˆ†ç±»åŠŸèƒ½éœ€è¦åç«¯æ”¯æŒæ ‡ç­¾å’Œç« èŠ‚æ¥å£
8. ç»Ÿè®¡åŠŸèƒ½éœ€è¦åç«¯æä¾›å¿ƒè·³å’Œè®¿é—®è®°å½•æ¥å£
9. ç”Ÿäº§éƒ¨ç½²æ—¶éœ€è¦é…ç½®æ­£ç¡®çš„ API åœ°å€
10. ä½¿ç”¨ Nginx éƒ¨ç½²æ—¶éœ€è¦é…ç½® gzip å‹ç¼©å’Œç¼“å­˜ç­–ç•¥

## æ€§èƒ½ä¼˜åŒ–

- ä½¿ç”¨ Vite è¿›è¡Œå¿«é€Ÿæ„å»ºå’Œçƒ­æ›´æ–°
- ç”Ÿäº§æ„å»ºè‡ªåŠ¨è¿›è¡Œä»£ç åˆ†å‰²å’Œå‹ç¼©
- Markdown æ¸²æŸ“æ”¯æŒä»£ç é«˜äº®ï¼ˆhighlight.jsï¼‰
- è·¯ç”±æ‡’åŠ è½½ï¼ŒæŒ‰éœ€åŠ è½½é¡µé¢ç»„ä»¶
- å›¾ç‰‡èµ„æºå»ºè®®ä½¿ç”¨ CDN
- å¯ç”¨ Nginx gzip å‹ç¼©
- é…ç½®æµè§ˆå™¨ç¼“å­˜ç­–ç•¥
- ä½¿ç”¨ç»„åˆå¼å‡½æ•°ï¼ˆComposablesï¼‰å¤ç”¨ä¸šåŠ¡é€»è¾‘

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- æäº¤ [Issue](https://github.com/ydcloud-dy/leaf-ui-frontend/issues)
- å‘é€é‚®ä»¶è‡³ï¼šdycloudlove@163.com


